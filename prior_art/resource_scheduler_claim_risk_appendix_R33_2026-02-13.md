# 资源调度专利元素级风险附录（R33）

- 时间戳：2026-02-13 20:58:00 +08:00
- 编制人：Codex (GPT-5)
- 用途：供专利代理人进行权利要求法律化重写与边界收敛时直接参考
- 依据文件：
  1. `patent/权利要求书_资源调度_v3.md`
  2. `prior_art/resource_scheduler_claim_level_english_lit_2026-02-13.md`
  3. `prior_art/resource_scheduler_claim_level_RS-P01_v2_2026-02-13.md`
  4. `prior_art/resource_scheduler_claim_level_CN_top3_2026-02-13.md`
  5. `qa/claude_review_R25_2026-02-13.md`

---

## 一、使用说明（给代理人）

本附录不替代法律意见。
本附录提供工程可核验的“元素级重叠压力图”。
目标是帮助代理人将独立权利要求收敛到可防御的组合边界。
建议将本附录与权利要求书 v3 同步审阅。

### 风险分级口径

1. `High`：已有文献或专利在核心流程上可直接对应，稍改写即可覆盖。
2. `Medium`：存在明显方法论重叠，但关键机制组合或约束条件不同。
3. `Low`：仅有概念级相似，领域或流程核心存在明确断层。

---

## 二、独立权利要求1（五个特征）元素级风险分析

独立权利要求1拆分为五个特征：

1. 特征F1：周期采样 CPU/内存/GPU，形成原始资源快照。
2. 特征F2：双视图模式判定（紧急用原始值，稳态用平滑值）。
3. 特征F3：非紧急准入的同周期累计投影，含 per-GPU 分桶和未绑定保守预算。
4. 特征F4：紧急阻断 + 瓶颈/热点识别 + 内存与GPU缺口归一化组合评分。
5. 特征F5：按优先级+评分+时序定向抢占，达到回收目标后停止。

---

### 2.1 特征F1 风险附录

#### 2.1.1 已知重叠证据

| 证据来源 | 类型 | 重叠点 | 风险 |
|---|---|---|---|
| RS-P01 家族（US20200167197A1 / US11656911B2） | 专利 | 资源状态检测 + pending/running 工作负载识别 | Medium |
| Gandiva (OSDI 2018) | 文献 | 调度器依赖作业状态内省进行资源决策 | Low-Medium |
| Kubernetes Node-pressure Eviction | 系统机制 | 节点资源压力采集与阈值触发 | Medium |

#### 2.1.2 可主张边界（defensible scope）

1. 不单独主张“采样”本身新颖性。
2. 将采样限定为“双视图判定输入”的必要前置，并与F2/F3/F4联动。
3. 强调“同一控制回路内”的统一快照语义，而非泛化监控。

#### 2.1.3 规避措辞建议（供代理人）

建议用语：
1. “向双视图模式判定模块提供同周期统一原始快照”。
2. “所述采样结果用于后续累计投影与定向回收闭环决策”。

建议避免：
1. “对系统资源进行监控/采集”这类宽泛表述。
2. 单独将“采样”写成独立创造性锚点。

---

### 2.2 特征F2 风险附录

#### 2.2.1 已知重叠证据

| 证据来源 | 类型 | 重叠点 | 风险 |
|---|---|---|---|
| 通用控制与监控实践 | 方法论 | 原始值与平滑值并存思路常见 | Medium |
| Gandiva | 文献 | 动态调度中的反馈与状态内省思想 | Low |
| RS-P01 家族 | 专利 | 过载判定后触发控制动作 | Medium |

#### 2.2.2 可主张边界（defensible scope）

1. 将“紧急判定必须走原始路径”与“稳态判定走平滑路径”绑定为强约束。
2. 将迟滞和冷却作为双视图控制器的结构性组成。
3. 与F3/F4联动主张，避免被解释为通用滤波策略。

#### 2.2.3 规避措辞建议（供代理人）

建议用语：
1. “紧急分支与稳态分支采用不同观测视图并行定义”。
2. “紧急分支不依赖平滑结果以消除响应滞后”。
3. “稳态分支结合迟滞退出与冷却期约束”。

建议避免：
1. “采用指数移动平均提高稳定性”单点表述。
2. 将双视图描述成可选实现（应写为必须步骤关系）。

---

### 2.3 特征F3 风险附录

#### 2.3.1 已知重叠证据

| 证据来源 | 类型 | 重叠点 | 风险 |
|---|---|---|---|
| Kubernetes ResourceQuota | 系统机制 | 准入控制与配额约束 | Medium |
| RS-P01 家族 | 专利 | 容量不足下任务接纳/回收链路 | Medium |
| Gandiva/AntMan/Pollux | 文献 | 资源分配与动态调整 | Medium |
| CN111736987B | 专利 | GPU 调度与资源分配决策 | Medium-High |

#### 2.3.2 可主张边界（defensible scope）

1. 强调“同一调度周期内逐次准入后立即更新后续候选基线”。
2. 强调“按GPU卡分桶预算 + 未绑定任务保守预算”的二层投影结构。
3. 强调“绑定任务仅投影至目标卡、未绑定任务保守贡献至风险评估”的组合约束。

#### 2.3.3 规避措辞建议（供代理人）

建议用语：
1. “同周期逐任务累加并即时反馈至后续候选判定”。
2. “设备级分桶预算与未绑定保守预算并行维护”。
3. “绑定任务与未绑定任务采用异构投影规则”。

建议避免：
1. “根据资源余量决定是否准入”这类通用 admission 控制描述。
2. 仅写“GPU预算”而不写“分桶+未绑定保守预算”。

---

### 2.4 特征F4 风险附录

#### 2.4.1 已知重叠证据

| 证据来源 | 类型 | 重叠点 | 风险 |
|---|---|---|---|
| Linux OOM `oom_badness` | 内核机制 | 评分选杀（score-based victim selection） | Medium（局部） |
| RS-P01 家族 | 专利 | 过载触发终止运行负载 | High（对“抢占终止”子链路） |
| Kubernetes Node-pressure Eviction | 系统机制 | 压力触发驱逐 | Medium |
| CN111736987B | 专利 | GPU调度中的动态回收/调整思想 | Medium-High |

#### 2.4.2 可主张边界（defensible scope）

1. 将评分限定为“按各自缺口归一化的双资源组合评分”，非单维 score。
2. 将热点GPU识别与瓶颈维识别写为评分输入前置步骤。
3. 将该评分明确耦合于“紧急阻断后”的回收路径。
4. 与F5的双目标停止条件绑定，避免落入“仅评分选杀”既有范式。

#### 2.4.3 规避措辞建议（供代理人）

建议用语：
1. “内存回收贡献与图形处理器回收贡献分别以对应缺口归一化后组合”。
2. “在双瓶颈状态下采用协同项提升对双维度同时缓解任务的优先级”。
3. “评分过程以前置瓶颈维识别与热点设备识别为条件”。

建议避免：
1. “根据资源占用评分终止任务”这类可直接映射 OOM 的措辞。
2. 不区分内存与GPU缺口分母的表述。

---

### 2.5 特征F5 风险附录

#### 2.5.1 已知重叠证据

| 证据来源 | 类型 | 重叠点 | 风险 |
|---|---|---|---|
| RS-P01 家族 | 专利 | 预抢占终止 + 继续调度链路 | High（局部） |
| Kubernetes Pod Priority/Preemption | 系统机制 | 优先级抢占排序 | Medium |
| Gandiva/AntMan | 文献 | 动态调度中的迁移/时分与任务优先控制 | Medium |

#### 2.5.2 可主张边界（defensible scope）

1. 强调“排序键=优先级+归一化双资源评分+时序”的组合键。
2. 强调“达到回收目标即停止”而非固定数量抢占。
3. 强调回收目标为多资源目标（内存与GPU）而非单目标。

#### 2.5.3 规避措辞建议（供代理人）

建议用语：
1. “当且仅当回收目标满足时终止本轮抢占过程”。
2. “定向抢占顺序由多因子组合排序键确定”。
3. “所述回收目标包括内存目标和图形处理器目标”。

建议避免：
1. “按优先级终止低优先任务”单因子表达。
2. “每轮最多抢占N个任务”作为唯一停止条件。

---

## 三、从属权利要求7（亲和权重）元素级风险分析

权利要求7主题：同卡绑定 > 未绑定 > 跨卡绑定 的亲和权重机制。

### 3.1 已知重叠证据

| 证据来源 | 类型 | 重叠点 | 风险 |
|---|---|---|---|
| GPU 亲和调度常见实践（MIG/MPS 生态） | 系统实践 | 设备亲和与隔离/共享策略 | Medium |
| Gandiva/AntMan | 文献 | GPU任务分配与共享时考虑资源匹配 | Medium |
| CN111736987B | 专利 | GPU 任务调度与资源分配决策 | Medium |

### 3.2 可主张边界（defensible scope）

1. 不主张“存在亲和性”本身，而主张“三级权重梯度与紧急回收评分耦合”。
2. 强调该权重用于热点GPU导向的回收，而非一般调度打分。
3. 强调与F4/F5共同构成“瓶颈导向回收”而非独立特征。

### 3.3 规避措辞建议（供代理人）

建议用语：
1. “针对热点图形处理器的回收评分中引入同卡、未绑定、跨卡的分级亲和系数”。
2. “所述亲和系数用于调整图形处理器回收贡献项”。

建议避免：
1. “按GPU亲和性进行调度”宽泛表述。
2. 将权重关系写成可任意互换的可选项。

### 3.4 风险结论

总体风险：`Medium`。  
可防御性来自“分级亲和权重 + 热点设备导向 + 归一化评分 + 目标停止”组合。

---

## 四、从属权利要求8（协同评分）元素级风险分析

权利要求8主题：双紧急场景下，内存归一化值与GPU归一化值的协同组合。

### 4.1 已知重叠证据

| 证据来源 | 类型 | 重叠点 | 风险 |
|---|---|---|---|
| Linux OOM `oom_badness` | 内核机制 | 评分选杀思想 | Medium（仅评分范式） |
| 多目标优化通用方法 | 方法论 | 多项得分组合 | Medium |
| RS-P01 家族 | 专利 | 过载时终止运行负载 | Medium-High（链路层面） |

### 4.2 可主张边界（defensible scope）

1. 强调“各维先按缺口归一化，再组合”，避免被归类为简单线性加权。
2. 强调“协同项”专门奖励双瓶颈同时缓解任务。
3. 强调该协同评分仅在双紧急条件触发。
4. 强调评分结果与双目标停止条件联动。

### 4.3 规避措辞建议（供代理人）

建议用语：
1. “在内存与图形处理器同时进入紧急状态时，计算两维归一化贡献并引入协同增强项”。
2. “所述协同增强项反映任务对双瓶颈同时缓解的联合效果”。
3. “所述评分用于紧急回收排序并受双目标回收停止条件约束”。

建议避免：
1. “综合评分=内存评分+GPU评分”裸表达。
2. 把协同项写成可省略的非必要步骤。

### 4.4 风险结论

总体风险：`Medium`。  
若单独主张评分，抗辩压力较大；若绑定F3/F4/F5闭环，风险可降至`Low-Medium`。

---

## 五、代理人可直接使用的措辞收敛模板（建议草案）

### 5.1 独立权利要求收敛模板（建议方向）

建议将独立权利要求核心措辞收敛为：

1. “双视图模式控制”必须项：紧急判定原始路径 + 稳态判定平滑路径。
2. “同周期累计投影”必须项：每次准入成功后更新后续候选基线。
3. “按卡分桶+未绑定保守预算”必须项：绑定与未绑定异构投影规则。
4. “瓶颈导向归一化评分”必须项：内存缺口归一化 + GPU缺口归一化 + 协同项。
5. “双目标停止”必须项：达到内存与GPU回收目标后停止。

### 5.2 避免使用的高风险宽泛词

1. “资源监控与调度”。
2. “根据负载进行抢占”。
3. “按优先级停止任务”。
4. “根据评分回收任务”。
5. “动态调整参数”。

这些表达易与现有技术大范围重叠，建议替换为结构化闭环表述。

---

## 六、最终结论

1. 独立权利要求1中，F1/F2单独新颖性偏弱，F4/F5局部重叠压力较高。
2. 可防御重点在于 F2+F3+F4+F5 的不可分拆组合闭环。
3. 从属权利要求7与8不建议孤立主张，应作为“热点导向回收链路”的强化层。
4. 代理人层面的核心任务不是继续扩展特征数量，而是收紧结构依赖关系与触发条件，减少被单文献+常识组合驳回的空间。

# 权利要求书（CNIPA修正版，R44）

1. 一种面向计算设备的多资源动态调度方法，其特征在于，包括以下步骤：  
S1：周期采集处理器资源、内存资源和图形处理器资源的使用状态，形成同一调度周期的原始资源快照；  
S2：基于所述原始资源快照和对应平滑资源快照执行双视图模式判定，其中紧急模式判定仅基于原始资源快照，稳态模式判定基于平滑资源快照并结合迟滞退出机制和紧急冷却机制；  
S3：在非紧急模式下执行同一调度周期内的候选任务累计资源投影准入判定，并在每次准入成功后更新后续候选任务投影基线，所述图形处理器预算至少包括按卡分桶预算和未绑定任务保守预算；  
S4：在紧急模式下阻断新任务准入，识别瓶颈资源维度和热点图形处理器，并对可回收候选任务计算归一化资源回收评分；  
S5：基于任务优先级、所述归一化资源回收评分、图形处理器亲和系数和任务启动时序执行定向抢占，并在内存回收目标与图形处理器回收目标同时满足后停止本轮抢占。  

2. 根据权利要求1所述的方法，其特征在于，对声明目标图形处理器卡的任务仅在目标图形处理器卡执行显存投影，对未声明目标图形处理器卡的任务将显存需求以保守方式纳入各图形处理器卡风险评估。  

3. 根据权利要求1所述的方法，其特征在于，在内存资源和图形处理器资源同时处于紧急状态时，所述归一化资源回收评分引入协同增强项。  

4. 根据权利要求1所述的方法，其特征在于，所述图形处理器亲和系数满足同卡绑定任务大于未绑定任务，未绑定任务大于跨卡绑定任务。  

5. 根据权利要求1所述的方法，其特征在于，所述方法包括阻断审计事件记录步骤：在任务被阻断时记录任务标识、阻断原因类别和阻断时间戳，并维护阻断事件总数与唯一阻断任务总数。  

6. 根据权利要求1所述的方法，其特征在于，所述方法包括终止失败保护步骤：在向目标任务发出终止请求后，若所述目标任务在预设终止超时时间内未终止，则执行强制移除，并记录终止失败事件和超时移除事件。  

7. 根据权利要求1所述的方法，其特征在于，所述方法包括自适应参数调优步骤：根据运行统计信号识别重试原因类别，并据此调整后续调度窗口的准入阈值偏置量、调度窗口时长和任务负载参数。  

8. 一种多资源动态调度系统，其特征在于，包括资源监控模块、模式判定模块、准入控制模块、定向抢占模块、任务执行模块和事件审计模块；  
其中：  
所述资源监控模块用于采集并输出原始资源快照；  
所述模式判定模块用于执行双视图模式判定并输出当前模式；  
所述准入控制模块用于在非紧急模式下执行同周期累计资源投影判定并维护按卡分桶预算和未绑定任务保守预算；  
所述定向抢占模块用于在紧急模式下执行瓶颈识别、热点图形处理器识别、归一化评分排序和双目标停止控制；  
所述任务执行模块用于执行任务启动、任务运行跟踪和任务终止控制；  
所述事件审计模块用于记录模式切换、任务阻断、任务启动、任务停止和回收目标达成事件。  

9. 根据权利要求8所述的系统，其特征在于，所述定向抢占模块包括归一化评分单元、图形处理器亲和加权单元和双目标停止单元。  

10. 一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现权利要求1至7任一项所述的方法。  

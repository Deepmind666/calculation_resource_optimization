# 权利要求书（CNIPA格式化稿，R43）

1. 一种面向计算设备的多资源动态调度方法，其特征在于，包括如下步骤：  
周期采集处理器资源、内存资源和图形处理器资源的使用状态，形成同一调度周期的原始资源快照；  
基于所述原始资源快照和对应平滑资源快照执行双视图模式判定，其中紧急模式判定仅基于原始资源快照，稳态模式判定基于平滑资源快照并结合迟滞退出机制和紧急冷却机制；  
在非紧急模式下执行同一调度周期内的候选任务累计资源投影准入判定，并在每次准入成功后更新后续候选任务投影基线，所述图形处理器预算至少包括按卡分桶预算和未绑定任务保守预算；  
在紧急模式下阻断新任务准入，识别瓶颈资源维度和热点图形处理器，并对可回收候选任务计算归一化资源回收评分；  
基于任务优先级、所述归一化资源回收评分、图形处理器亲和系数和任务启动时序执行定向抢占，并在内存回收目标与图形处理器回收目标同时满足后停止本轮抢占。

2. 根据权利要求1所述的方法，其特征在于，对声明目标图形处理器卡的任务仅在目标图形处理器卡执行显存投影，对未声明目标图形处理器卡的任务将显存需求以保守方式纳入各图形处理器卡风险评估。

3. 根据权利要求1所述的方法，其特征在于，在内存资源和图形处理器资源同时处于紧急状态时，所述归一化资源回收评分引入协同增强项。

4. 根据权利要求1所述的方法，其特征在于，所述图形处理器亲和系数满足同卡绑定任务大于未绑定任务，未绑定任务大于跨卡绑定任务。

5. 根据权利要求1所述的方法，其特征在于，所述方法还包括阻断审计事件记录、终止失败保护和自适应参数调优步骤。

6. 一种多资源动态调度系统，其特征在于，包括资源监控模块、模式判定模块、准入控制模块、定向抢占模块和事件审计模块；  
所述模式判定模块用于执行双视图模式判定，且紧急模式判定仅基于原始资源快照；  
所述准入控制模块用于在非紧急模式下执行同周期累计资源投影判定，并维护按卡分桶预算和未绑定任务保守预算；  
所述定向抢占模块用于在紧急模式下执行瓶颈识别、热点图形处理器识别、归一化评分排序和双目标停止控制；  
所述事件审计模块用于记录模式切换、任务阻断、任务启动、任务停止和回收目标达成事件。

7. 根据权利要求6所述的系统，其特征在于，所述定向抢占模块包括归一化评分单元、图形处理器亲和加权单元和双目标停止单元。

8. 一种计算机可读存储介质，其上存储有计算机程序，其特征在于，所述计算机程序被处理器执行时实现权利要求1至7任一项所述的方法或系统控制逻辑。

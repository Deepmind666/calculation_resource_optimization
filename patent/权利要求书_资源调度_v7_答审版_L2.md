# 权利要求书（资源调度方向，v7 答审版 L2）

- 时间戳：2026-02-14 08:12:58 +08:00
- 编制人：Codex (GPT-5)
- 版本定位：基于 R38 的 L2 修订方案形成的可提交答审版候选文本
- 目标：在保护范围与授权稳定性之间取得平衡

## 一、方法类权利要求

1. 一种面向计算设备的多资源动态调度方法，其特征在于，包括如下步骤：  
1) 周期采集处理器资源、内存资源和图形处理器资源的使用状态，形成同一调度周期的原始资源快照；  
2) 基于所述原始资源快照和对应平滑资源快照执行双视图模式判定，其中紧急模式判定仅基于原始资源快照，稳态模式判定基于平滑资源快照并结合迟滞退出机制和紧急冷却机制；  
3) 在非紧急模式下执行候选任务准入判定，维护同一调度周期内的累计资源投影预算，并在每次准入成功后更新后续候选任务的投影基线；其中图形处理器预算包括按卡分桶预算和未绑定任务保守预算，且对声明目标图形处理器卡的任务仅在对应目标图形处理器卡执行显存投影，对未声明目标图形处理器卡的任务将显存需求以保守方式纳入各图形处理器卡风险评估；  
4) 在紧急模式下阻断新任务准入，识别瓶颈资源维度和热点图形处理器，并对可回收候选任务计算归一化资源回收评分；其中所述归一化资源回收评分至少包括内存回收贡献相对内存回收缺口的归一化值和图形处理器回收贡献相对图形处理器回收缺口的归一化值，并在内存资源和图形处理器资源同时处于紧急状态时引入协同增强项；  
5) 基于任务优先级、所述归一化资源回收评分、图形处理器亲和系数和任务启动时序执行定向抢占，所述图形处理器亲和系数满足同卡绑定任务大于未绑定任务、未绑定任务大于跨卡绑定任务，并在内存回收目标与图形处理器回收目标同时满足后停止本轮抢占。  

2. 根据权利要求1所述的方法，其特征在于，所述平滑资源快照通过指数移动平均处理得到，且所述平滑处理的平滑系数取值范围为0至1。  

3. 根据权利要求1所述的方法，其特征在于，所述同一调度周期内累计资源投影预算采用逐任务即时累加方式，每次候选任务准入后均将其资源需求计入后续候选任务判定基线。  

4. 根据权利要求1所述的方法，其特征在于，当候选任务声明的目标图形处理器卡不可用时，输出目标图形处理器不可用阻断结果并记录阻断审计事件。  

5. 根据权利要求1所述的方法，其特征在于，所述紧急模式下的待执行任务逐条生成阻断审计事件，且阻断统计至少包括阻断事件总数和唯一阻断任务总数。  

6. 根据权利要求1所述的方法，其特征在于，所述方法还包括终止失败保护步骤：当任务在预设终止超时时间内未被正常终止时，执行强制移除并记录终止失败事件与超时移除事件。  

7. 根据权利要求1所述的方法，其特征在于，所述方法还包括自适应参数调优步骤：根据运行统计信号识别重试原因类别，并据此调整后续调度窗口的准入阈值偏置和任务负载参数。  

8. 根据权利要求7所述的方法，其特征在于，所述自适应参数调优步骤针对不同重试原因类别执行分支调节，其中在吞吐不足时采用阈值放宽并延长调度窗口，在紧急信号不足时采用阈值收紧并提高压力参数。  

9. 根据权利要求1所述的方法，其特征在于，所述方法还包括任务资源画像自校准步骤：根据已完成任务观测到的资源峰值更新任务画像，并使用所述任务画像修正后续同类任务的资源估算值。  

## 二、系统类权利要求

10. 一种多资源动态调度系统，其特征在于，包括资源监控模块、模式判定模块、准入控制模块、定向抢占模块、任务执行模块和事件审计模块；  
其中：  
1) 所述资源监控模块用于采集并输出同周期原始资源快照；  
2) 所述模式判定模块用于执行双视图模式判定，其中紧急模式判定仅基于原始资源快照，稳态模式判定基于平滑资源快照并结合迟滞退出机制和紧急冷却机制；  
3) 所述准入控制模块用于在非紧急模式下执行同周期累计资源投影判定，并维护按卡分桶预算和未绑定任务保守预算；  
4) 所述定向抢占模块用于在紧急模式下执行瓶颈识别、热点图形处理器识别、归一化资源回收评分排序、图形处理器亲和系数加权和双目标停止控制；  
5) 所述事件审计模块用于记录模式切换、任务阻断、任务启动、任务停止和回收目标达成事件。  

11. 根据权利要求10所述的系统，其特征在于，所述准入控制模块包括按图形处理器卡分桶预算单元和未绑定任务保守预算单元，所述定向抢占模块包括热点图形处理器识别单元、归一化评分单元和双目标停止单元。  

## 三、介质类权利要求

12. 一种计算机可读存储介质，其上存储有计算机程序，所述计算机程序被处理器执行时实现权利要求1至11任一项所述的方法或系统控制逻辑。  
